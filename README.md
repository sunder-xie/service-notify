# SpringCloud微服务--通知服务
# 简介
集成阿里大鱼短信通知AliSms等功能，利用Kafka消息队列做异步推送任务

# 目的
1. 三方服务集成
2. 异步消息服务练习
3. 对平时工作的总结练习

# 项目启动准备
1. 申请阿里大鱼短信服务的key,secret进行配置.
2. 搭建部署kafka,建立notify这个topic
3. 启动redis用于验证码存储
4. 启动spring-cloud相关应用——[传送门](https://github.com/caicai457614705/cloud-server)
5. 创建数据库表, sql语句见sql.txt
6. 启动本项目, 使用swagger或者postman等工具进行测试.

# 功能设计说明
1. 用kafka队列为异步任务提供支持。
2. 使用相同topic,不同的tag来区分消费行为，业务方在使用队列时需要实现MessageListener接口,并向map中注册，从而自定义tag对应的消费行为
3. 短信接口通过阿里大鱼发送短信
4. 验证码接口按照入参部分规则生成验证码，如果不指定模板号则用默认模板发送验证码
5. 验证码按手机号加场景key的规则用redis来实现验证码的验证，重试，及过期功能
6. 在提供短信服务的同时提供消息服务，通过QueueController相关接口，可以使用异步消息功能.

# 友情提示
1. 为避免该项目泄露信息，项目中key为伪造，致使程序无法正常运转，请右转阿里大鱼官网申请配置相应内容。

# 相关链接
待续